        //
    
    #include <Stepper.h>
    #include <AltSoftSerial.h>

      AltSoftSerial BTserial; 
      Stepper stepper(200, 4, 5, 6, 7);
      int step_parameter = 0;
      int step_parameter_new = 0;
      int actuation = 0;
      int light_data_int;
      int light_set_point = 250;
      int steps = 10 ;
      String light_data = " ";
      bool sleep_parameter = 0;
      String inByte;
         
    void setup()
    {
      Serial.begin(9600);
      Serial.println("Stepper test!");
      stepper.setSpeed(30); // set the speed of the motor (RPM)
      BTserial.begin(9600);  
      Serial.println("BTserial started at 9600");
      delay(2000);
    }
     
    void loop()
    {
//     //Recieve Data 
//       inByte = (Serial.readString());
//       Serial.print("inByte "); Serial.println(inByte);

     // This will read the serial data coming from the light sensor and convert it into an integer
       light_data = BTserial.readString();
       Serial.println(light_data);  //debugging, comment out when working
       light_data_int = light_data.toInt();
       Serial.println(light_data_int);  //debugging, comment out when working
       
    // Clockwise Motor Actuation 
       if((light_data_int < light_set_point) && (light_set_point-light_data_int > 10)){
          stepper.step(steps);
          Serial.println("Actuating up!!");
       }
       
    //  Counterclockwise Actuation
       else if(light_data_int > light_set_point  && (light_set_point-light_data_int < -10)){
          Serial.println("Actuating down!!"); //debugging, comment out when working
          stepper.step(-steps);
     }

     // DO NOT ACUTATE MOTOR
     else if(light_set_point-light_data_int >= 10 || light_set_point-light_data_int <= -10){
        Serial.println("Not Actuating!!");  // debugging, comment out when working
     }
     
      // reset the serial port     
         while(BTserial.available())
         Serial.read();
   }
